<!DOCTYPE html>
<html>

  <head>
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/png" href="pictures/titleicon.png"> <!--Icon for the website at the title area-->
  <title>Aniplay</title>
  <link rel="stylesheet" href="General_css.css">
  <script src="login_signupScr.js" type="text/javascript"></script> 

  <style>
    body {
      background-image:url(pictures/background\ anime.jpg);height:100%;width:100%;
      margin: 0;
      padding:0;
      background-size:cover;
      background-position:center center;
    }

    #welcomebox{
    font-weight: bolder;
    font-size: auto;
    text-align: center;
    background-color: #5526AF;
    color: white;
    margin-left:30px;
    height: 20%;
    width:30%;
    top:30%;
    }
    #slogan{
    margin-left: 30px;
    color: white;
    font-size:x-large;
    }
</style>
</head>


<body>

  <!--Start of header-->
  <header> 

    <nav class="headfootnav">
        
    <a href="Main.html"><img src="pictures/aniplaylogo.png" alt="Main page link" style="height: 65px; width: auto"></a>

    <div class="navspace">
    <a href="showlist.html" style="color: white;">Show List</a>
    </div>

    <div class="navspace">
    <a href="leaderboard.html" style="color: white;">Leaderboards</a>
    </div>
        
    </nav>

    <form action="#" method="get"> <!--Search bar-->
    <input type="text" name="search" placeholder="Find a show...">
    <button type="submit">Search</button>
    </form>

    <script> //search bar dummy search functionality
    const search = document.getElementById('search');
    const button = document.querySelector('button');
    button.addEventListener('click', () => {
    const query = search.value;
    });
    // perform search with query
    </script>


    <!--Button that on press, opens the login form Popup-->
    <button onclick="openPop()" class="signup-button">Login</button>

    <!-- Login form -->
    <div class="loginform-popup" id="loginPop">
    <form action="" class="login-container"> <!-- What the form does when pressed submit-->
    <h1>Welcome Back!<br>Login</h1>

    <label for="email"><b>Email</b></label>
    <input type="text" placeholder="Enter Email" name="email" required>
    <label for="password"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="password" required>

    <button type="submit" class="bttn">Login</button>
    <button type="button" class="bttn" onclick="closePop()">Close</button>

    <!--Button leads to sign up,closes login-->
    <h3>Dont have an account? <button type="button" onclick="SignupPop();closePop()" >Sign up</button></h3> 
    </form>
    </div>
    
    <!--Sign up form-->
    <div class="loginform-popup" id="SignPop">
    <form action="" class="login-container"> <!-- What the form does when pressed submit-->
    <h1>Welcome To Aniplay!<br>Sign up</h1>
  
    <label for="email"><b>Email</b></label>
    <input type="text" placeholder="Enter Email" name="email" required>
    <label for="passw"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="passw" required>

    <button type="submit" class="bttn" >Sign Up</button>
    <button type="button" class="bttn" onclick="closeSignPop()">Close</button>
   
    </form>
    </div>

    <!--Script for login form and signup form-->
    <script>

      //login form script
      document.getElementById('loginPop').addEventListener('submit', function (event) {
      event.preventDefault();

      const formData = new FormData(event.target);
      const loginData = {
      email: formData.get('email'),
      password: formData.get('password')
      };

      fetch('/login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
        },
      body: JSON.stringify(loginData)
      })
      .then(response => response.json())
      .then(data => {
        alert("WELCOME BACK, USER!");
      })
      .catch(error => console.error(error));
      });

      //handles signup form script
      document.getElementById('SignPop').addEventListener('submit', function (event) {
      event.preventDefault();

      const formData = new FormData(event.target);
      const signupData = {
        email: formData.get('email'),
        password: formData.get('password')
      };

      fetch('/signup', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(signupData)
      })
      .then(response => response.json())
      .then(data => {
        alert("Success! Now go Login.");
        //can implement redirect to login if want
      })
      .catch(error => console.error(error));
      });


    //popup open/close functions
    function openPop() {
    document.getElementById("loginPop").style.display = "block";
    }
    function closePop() {
    document.getElementById("loginPop").style.display = "none";
    }
    function SignupPop() {
    document.getElementById("SignPop").style.display = "block";
    }
    function closeSignPop() {
    document.getElementById("SignPop").style.display = "none";
    }

    </script>
    </header> 
    <!-- End Header-->


    <!--Main content of main page-->
    <main> 
    <h1 id="welcomebox">WELCOME TO ANIPLAY!</h1>
    <h5 id="slogan"> Stream. Watch. Repeat: <br> Your Anime Paradise Awaits!</h5>
    </main>

    <!--Start of Footer-->
    <footer>

    <nav class = "headfootnav">
    <div class="navspace">
    <a href="https://www.facebook.com/"><img src="pictures/facebookico.svg" alt="facebook icon" style="height:35px ; width:auto"></a></li>
    </div>

    <div class="navspace">
    <a href="https://www.twitter.com/"><img src="pictures/twitterico.svg" alt="twitter icon" style="height:35px ; width:auto"></a></li>
    </div>

    <div class="navspace">
    <a href="https://www.reddit.com/"><img src="pictures/redditico.svg" alt="reddit icon" style="height:35px ; width:auto"></a></li>
    </div>
    </nav>

    <div style="display: flex; align-items: center; padding-right:30px;">
    <button>Info and Credits</button>

    <div class="navspace">
    <img src="pictures/footer_pic.png" alt="chopper pic" style="height: 60px; width: auto;">
    </div>

    </div>
    </nav> 
    </footer>
    <!--End footer-->

</body>
</html>
